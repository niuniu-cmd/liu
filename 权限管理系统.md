#完整的权限管理系统
###权限管理系统的定义
权限管理是所有后台系统都涉及到的一个重要组成部分，主要目的是对整个后台管理系统进项权限的控制，针对的对象是员工，避免因权限控制缺失操作不当引发的风险问题，如操作错误，数据泄露。
***************
 
###账号的定义：
   每个想进入系统的员工都要有一个账号，这个账号就是像钥匙。我们通过控制账号所具备的权限，进而控制这个员工的授权范围。
***********************
###角色的定义：
角色管理是确定角色具备哪些权限的一个过程，他是一个集合的概念，是一定数量的许可集合，许可的载体，是众多最小的权限颗粒组成。我们把权限给角色，角色再给账号，从而实现账号的权限，因此角色承担了一个桥梁的作用。一个账号可以具备多种角色。<br>
角色的命名最好按职位而定，因为职位在企业在都是存在的，且有限的。这样配置权限方便我们我们做出判断，避免配置错误。<p>
![](juese.png)
********************
###许可的定义：
   一般称为权限。它包括控制对象和操作。<br>
      控制对象一般为资源，包括菜单，页面文件等资源。
      操作：增删改查
我们给角色授予权限时，授予的就是颗粒最小的权限，所以我们将系统操作权限授予某些角色。
一个角色可以拥有多个系统操作，一个系统操作同样也可以属于多个角色，所以系统操作和角色为多对多的关系
###组
 <b>用户组</b><br>：
  当用户数量较大。新增角色时，需要为大量的用户分配新的角色。我们京这些用户拉到一个用户组中国，然后为整个用户组进行角色的指定。<p>
 <b>权限组</b><br>：
权限较多时也会存在一样的问题，对角色进行权限设置时也需要大量的操作，此时可以考虑引入权限组的概念，将关联性较强的权限大包成组赋予角色，从而减少赋值时的工作量<br>
<b> 注</b>：<br>
及时有用户组和权限组的存在，也可以允许用户和权限与角色直接关联。
<p>
![](zu.png)

*****************
##权限可分为三种：
###1：页面权限
  可以控制你嗯呢该看到那个页面，看不到那个页面。<p>
 很多系统只做到了控制页面这一层级，它实现起来较简单。但这样设计较古板，控制权限不精细，难以在页面上对权限进项更下一层的划分。
###2：操作权限
  控制你可以在页面上操作哪些按钮。<p>
 延伸：<br>当我们进入一个新的页面，目的无非就是增删改查，对应的按钮可能是
查询，删除，编辑，新增四个按钮。<br>
###3:数据权限：
数据权限则是控制你可以看到那些数据，如市场A部的人只能看到，修改，创建A部的数据。不能看到修改B部的数据。<p>
 延伸：<br>
   数据的控制可以通过部门实现，每条记录都有一个创始人，每个创始人属于某个部门。因此部门分得越详细，数据控制层级也就越精细。
**************
##RBAC模型
<font color="red"><b>基于角色的访问控制。<b></font>RBAC认为授权实际上是Who、What、How的问题。在RBAC模型中，who、what、how构成了访问权限的三元组。也就是Who对what进行how的操作，也就是主体对客体的操作。
who---权限拥有的主体（User，Role） what-----资源或对象(Resource、Class)<br>
###RBAC模型分为<br>:
####基本模型(RBAC0):
是RBAC的核心，RBAC1、RBAC2、RBAC3都是在RBAC0扩展的。RBAC0定义了过程RBAC控制的最小元素。<br>

*用户(User)<br>
*角色(Role)<br>
*会话(Sesssion)<br>
*许可(Pemission)<br>
许可有包括操作和控制对象。其中许可被赋予角色，当一个角色被指定一个用户时，用户就拥有该角色所包含的许可。会话是动态的概念，用户必须通过会话设置角色，会话是用户与激活的角色之间的映射关系<p>
1[](RBAC0.png)
**********
####角色分层模型(RBAC1):
是建立在RBAC0的基础上，在角色上引入了继承概念，角色有了上下级或等级的关系
![](RBAC1.png)
*************
####角色限制模型(RBAC2):
是建立在RBAC0的基础上，加入了约束的概念，引入了静态职责分离SSD和动态职责分离DSD.<br>
###SSD是用户和角色指派段加入得<br>
*互斥角色：同一个用户在两个互斥的角色之间只能选择一个<br>
*基数约束： 一个用户拥有的角色是有限的，一个角色拥有的许可也是有限的<br>
*先决条件约束：用户要想获得高级角色，必须先拥有低级角色<br>
###DSD是会话和角色之间的约束
以动态的约束用户拥有的角色，如一个用户可以拥有两个角色，但是运行时只能激活一个角色。<P>
![](RBAC2.png)
************
#####统一模型(RBAC3):
  RBAC3，它是RBAC1与RBAC2合集，所以RBAC3是既有角色分层又有约束的一种模型
![](RBAC3.png)
#数据库的设计(E-R图)
###数据库设计的概念
  是将数据库中的数据实体及这些数据实体之间的关系，进行规划和结构化的过程。
###设计的重要性
 如一个数据库没有良好的设计，那么数据库的缺点：
     1：效率低
     2：更新和检索数据时会出现很多问题
     
 一个数据库,具有良好的设计,那他的优点是:
     1： 效率会很高.

	 2.便于进一步扩展.

	 3.使得应用程序的开发变得更容易.
###设计数据库的步骤
      1：需求分析阶段：分析客户的业务和数据处理需求
      2：概要设计阶段：主要绘制数据库的E-R图
      3：详细设计阶段：应用数据库的三大范式进行审核数据库的结构
###E-R图
    实体： 指现实世界中具有区分其他事物的特征或属性与其他实体有联系的实体,针对于数据库中的表而言实体是指表中一行一行特定数据,但我们在开发中,也常常把整个表称为一个实体.
   
    属性：实体的特征,针对于数据库中的表而言实体是指表中的列.


     联系：两个或多个实体之间的关联关系.


实体关系图：
   ![](1.png)<p>
如酒店的E-R图：
![](2.png)
###映射关系图：
    1 一对一： X中的一个实体最对与Y中的一个实体关联,并且Y中的一个实体最多与X中的一个实体关联

    2:一对多：:X中的一个实体可以与Y中的任意数量的实体关联;Y中的一个实体最多与X中的一个实体关联.


    3：多对一:X中的一个实体最多与Y中的一个实体关联;Y中的一个实体可以与X中的任意数量的实体关联.

    4:多对多:X中的一个实体可以与Y中的任意数量的实体关联,反之亦然.
###三大范式：
		1.第一范式:

				目标是确保每列的原子性.如果每列都是不可再分的最小数据单元,则满足第一范式.

		2.第二范式:

				第二范式在第一范式的基础上更进一层,其目标是确保表中的每列都和主键相关,也就是说在一个数据库表中，一个表中只能保存一种数据，不可以把多种数据保存在同一张数据库表中.如果一个关系满足第一范式,并且除了主键以外的其他列都依赖与该主键.则满足第二范式.

		3.第三范式:

				第三范式在第二范式的基础上更进一层,第三范式的目标是确保每列都和主键列直接相关,而不是间接相关.如果一个关系满足第二范式,并且除了主键以外的其他列都这能依赖于主键列,列和列之间不存在相互依赖关系,则满足第三范式.